# eth-connect, a TypeScript-based web3 library

[![Build Status](https://travis-ci.org/decentraland/eth-connect.svg?branch=master)](https://travis-ci.org/decentraland/eth-connect)

[![codecov](https://codecov.io/gh/decentraland/eth-connect/branch/master/graph/badge.svg)](https://codecov.io/gh/decentraland/eth-connect)

# Not ready for production!

We are still developing this tool. Watch the project to receive updates.

    npm i eth-connect

# Examples

The best examples are in the integration tests folder, anyway here are some simple examples:

### Initializing with a provider

```ts
// using the injected MetaMask provider
const requestManager = new RequestManager(web3.currentProvider)

const myBalance = await requestManager.eth_getBalance(myAddress)
```

### Initializing a contract

```ts
const abi = [...]
// using the injected MetaMask provider
const requestManager = new RequestManager(web3.currentProvider)

const factory = new ContractFactory(requestManager, abi)
const instance = await factory.at(address)

console.log('Calling a method', await instance.mint(myAddress))
```

### Getting the accounts

```ts
const requestManager = new RequestManager(web3.currentProvider)

const accounts = await requestManager.eth_accounts()
```

# How to develop and test this tool

Once you have all set and installed. We usually run 3 terminals with the following commands:

1.  `npm run watch` It starts the typescript incremental compilation & watches the files
2.  `./start-local-node.sh` It starts a geth node using Docker
3.  `npm run test` We run this every time we change something to test it, the command tests the .js files generated by the first terminals.
